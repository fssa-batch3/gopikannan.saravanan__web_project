let support_arr;

let json = [
  {
    story: {
      img: "https://cimages.milaap.org/milaap/image/upload/c_fill,h_452,w_603/v1667841206/production/images/campaign/587864/IMG20221009062455_ovmi0x_1667842343.jpg",
      alt: "education",
      title: "Help me study to win in life",
      percent: 20,
      story_txt:
        "Pavneeta and Sumeet are supporting an NGO called Shishu Mangal Orphanage in Tellapur, Hyderabad.\n Its run by Dr Sreenivas, a courageous young yoga teacher who manages to light up the life of 37 young minds\n",
      story_more:
        "Despite having hardly any resources and is now struggling to pay their school fees.\n Most of the children are girls from nursery to Class X.\n\nThere are so many needs of these children that go unfulfilled and our heart goes out to the solo effort of of one man.\n\n We believe if privileged citizens can fund their school fee, then few of us can work on their health, living hygiene and overall wellbeing.\n\nThey study in a school in Lingampally.\n Average fee per child is INR 36,000/- per annum.\n While any financial support is welcome, We would prefer if you can sponsor one child for a period of two years.\n However, any help is welcome at the stage they are in.\nAttached is the list of children, with names.\n Once you donate, you can write to me the name of child you wish to support and interest to meet up periodically.\n\n Would be happy to organize.\nThank you and God bless,",
      amount_raised: 600000,
      expected_amt: 3000000,
      supporters: 550,
      fundraiser: "Kumar",
    },
    pay: {
      donate_supporters: 550,
    },
    supporters: [
      { user: "Babu", amount: 1000000 },
      { user: "Revi", amount: 90000 },
      { user: " Aksay", amount: 25000 },
      { user: "Saras", amount: 7000 },
      { user: "Nivi", amount: 23000 },
      { user: "Kumar", amount: 18000 },
      { user: "Monish", amount: 50000 },
      { user: "Ram", amount: 15000 },
      { user: "Vishak", amount: 5000 },
    ],
    chatbox: [
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041NKBTPB8-909f006ab3c4-512",
        time: "8:37",
        profile_name: "Nithi",
        msg: "May God bless this children to pursue their goal",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041NKA4JDC-a68c1e85ff1f-192",
        time: "7:37",
        profile_name: "Logesh",
        msg: "All the best for your future ",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041NKC6B7Y-54c51c555306-512",
        time: "4:37",
        profile_name: "Saran",
        msg: "Best of luck Guys",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041XM05TC4-0f04e388aca2-192",
        time: "2:37",
        profile_name: "Kumar",
        msg: "Life gives you many obstacles break them and conquer your goal children",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041XM0M9N0-560074dc5510-192",
        time: "12:38",
        profile_name: "Sri",
        msg: "Study hard and make your parents proud",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041S8WSF29-9b28e1a65221-192",
        time: "12:38",
        profile_name: "Veera",
        msg: "Best of luck",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U042JUKD4CQ-6bbe078e69b7-192",
        time: "10:20",
        profile_name: "Jai",
        msg: "Study well and make change",
      },
    ],
  },
  {
    story: {
      img: "https://cimages.milaap.org/milaap/image/upload/c_fill,h_452,w_603/v1663057048/production/images/campaign/562956/Divyam_4_luynfw_1663057051.jpg",
      alt: "baby medical",
      title: "Help Divyam Fight From Leukaemia",
      story_txt:
        "  My name is Anurag Deshpande, working in Singpoare on Employement Pass (EP), with my wife Ankita Deshpande, who is a Homemaker.\n Our son, Divyam was born, in India, just 6 months before the COVID-19 restrictions started. Due to work commitment and pandemic restrictions we had to delay Divyam's Singapore travel plans. So, Divyam and his mothter stayed back in India, while I was in Singapore alone. Unfortunately this went on to a 2 year long separation and i saw my son grow on WhatsApp calls only.\n",
      story_more:
        "We were finally reunited early 2022, when Divyam and his mother came to Singapore to stay with me. I was very excited and was looking forward to spend as much time as possible with him to cover the lost time in last 2 years.\n However, unfortunately, Divyam was diagnosed with<b> Acute Lymphoblastic Leukaemia</b> in August 2022. It all started with mild fever for couple of days, which then went on for couple of weeks and during one of visits to <strong> A&E in KK Hospital Singapore</strong>, they advised us to admitted him, where later that day we were informed about his condition.\nDivyam started receiving the treatment immediately and we were informed that with his condition travelling back to India is not an option, as it could be too risky.\nAs I'm EP holder and considered non-resident, Divyam's medial bills were not subsidised. My insurance as well didn't come to much of help, as Leukaemia is not covered under the plan. The treatment for <b>Chemotherapy</b> can go anything from <b>$140,000 to $180,000</b>. We were at complete shock and lost in our thoughts upon hearing the treatment cost, and it's way beyond our means.\nWe will not be able to afford this treatment without your help and humbly plead your kind assistance to raise funds for our son's treatment.\nWe hope you can come forward and give Divyam a chance to fight this cancer and grow up to lead a normal, healthy life. Every small contribution can be a brick-by-brick path to a kid's life.\nTogether with my Wife, we truly appreciate your kind and generous support and we are beyond words on how to Thanks all of you.",
      amount_raised: 1300000,
      expected_amt: 5000000,
      supporters: 350,
      fundraiser: "Ajay",
    },
    pay: {
      donate_supporters: 550,
    },
    supporters: [
      { user: "Monish", amount: 50000 },
      { user: "Babu", amount: 25000 },
      { user: "Vimal", amount: 9000 },
      { user: "Jayanth", amount: 55000 },
      { user: "Vinit", amount: 25000 },
      { user: "Kumar", amount: 18000 },
      { user: "Hari", amount: 90000 },
      { user: "Ramu", amount: 6000 },
      { user: "Vishak", amount: 5000 },
    ],
    chatbox: [
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041NKA4JDC-a68c1e85ff1f-192",
        time: "7:37",
        profile_name: "Logesh",
        msg: "We will all pray together for this little soul recovery ",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041NKC6B7Y-54c51c555306-512",
        time: "4:37",
        profile_name: "Saran",
        msg: "Don't worry Divyam parents he will be alright",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041XM05TC4-0f04e388aca2-192",
        time: "2:37",
        profile_name: "Kumar",
        msg: "All the very best for your speedy recovery God is with you little soul",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041XM0M9N0-560074dc5510-192",
        time: "12:38",
        profile_name: "Sri",
        msg: "Pretty divyam be brave you are a strong soul",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U041S8WSF29-9b28e1a65221-192",
        time: "12:38",
        profile_name: "Veera",
        msg: "Best of luck",
      },
      {
        img_profile:
          "https://ca.slack-edge.com/T032648LE-U042JUKD4CQ-6bbe078e69b7-192",
        time: "10:20",
        profile_name: "Jai",
        msg: "Everything will be alright baby ",
      },
    ],
  },
];

let amountRaised = json[0]["story"]["amount_raised"];
let expected_amount = json[0]["story"]["expected_amt"];

let percentage = Math.floor((amountRaised / expected_amount) * 100);

console.log(percentage);
// let container;
// container = document.createElement("div");
// container.setAttribute("class", "content-supporter-container");

let content;
content = document.createElement("div");
content.setAttribute("class", "content");
// container.append(content);

let heading;
heading = document.createElement("h4");
heading.innerText = json[0]["story"]["title"];
content.append(heading);

let image;
image = document.createElement("img");
image.setAttribute("class", "image");
image.setAttribute("src", json[0]["story"]["img"]);
image.setAttribute("alt", json[0]["story"]["alt"]);
content.append(image);

let progress;
progress = document.createElement("div");
progress.setAttribute("class", "progress-sec");
content.append(progress);

let progress_div;
progress_div = document.createElement("div");
progress_div.setAttribute("class", "progressdiv");
progress.append(progress_div);

let para;
para = document.createElement("p");
para.setAttribute("id", "percent");
// para.innerText = percentage + "%";
progress_div.append(para);

let b_tag;
b_tag = percentage + "%";
para.append(b_tag);

let progress_tag;
progress_tag = document.createElement("progress");
progress_tag.setAttribute("id", "file");
progress_tag.setAttribute("value", percentage);
progress_tag.setAttribute("max", "100");
progress_div.append(progress_tag);

let span_like;
span_like = document.createElement("span");
span_like.setAttribute("class", "like");
progress_div.append(span_like);

let span_anchor;
span_anchor = document.createElement("a");
span_anchor.setAttribute("href", "#");
span_like.append(span_anchor);

let share_img;
share_img = document.createElement("img");
share_img.setAttribute("class", "share");
share_img.setAttribute("src", "../../Assets/images/share.png");
share_img.setAttribute("alt", "share");
share_img.setAttribute("width", "30px");
span_anchor.append(share_img);

let amount;
amount = document.createElement("div");
amount.setAttribute("class", "amount");
progress.append(amount);

let amount_txt;
amount_txt = document.createElement("span");
amount_txt.setAttribute("id", "txt-amt");
amount_txt.innerText = "Raised :";
amount.append(amount_txt);

let amount_count;
amount_count = document.createElement("span");
amount_count.setAttribute("id", "class");
amount_count.innerText =
  "RS" +
  json[0]["story"]["amount_raised"] +
  "out of" +
  "Rs." +
  json[0]["story"]["expected_amt"];

amount.append(amount_count);

let storybtn;
storybtn = document.createElement("div");
storybtn.setAttribute("class", "story-btn");
storybtn.innerText = "Story";
content.append(storybtn);

let story;
story = document.createElement("div");
story.setAttribute("class", "story");
story.innerText = json[0]["story"]["story_txt"];
content.append(story);

let story_more;
story_more = document.createElement("span");
story_more.setAttribute("id", "more");
story_more.innerText = json[0]["story"]["story_more"];
story.append(story_more);

let viewmore;
viewmore = document.createElement("div");
viewmore.setAttribute("class", "viewmore");
content.append(viewmore);

let imgArrow;
imgArrow = document.createElement("img");
imgArrow.setAttribute(
  "src",
  "../../Assets/images/arrow-down-sign-to-navigate.png"
);
imgArrow.setAttribute("alt", "arrow");
imgArrow.setAttribute("class", "arrow");
viewmore.append(imgArrow);

let viewmoreBtn;
viewmoreBtn = document.createElement("div");
viewmoreBtn.setAttribute("style", "z-index: 5;");
viewmore.append(viewmoreBtn);

let btnview;
btnview = document.createElement("button");
btnview.setAttribute("id", "mybtn");
btnview.setAttribute("onclick", "myFunction()");
btnview.innerText = "View More";
viewmoreBtn.append(btnview);

let user;
user = document.createElement("div");
user.setAttribute("class", "user");
content.append(user);

let nameLabel;
nameLabel = document.createElement("span");
nameLabel.setAttribute("class", "name-label");
nameLabel.innerText = "Created by";
user.append(nameLabel);

let userName;
userName = document.createElement("span");
userName.setAttribute("class", "name");
userName.innerText = json[0]["story"]["fundraiser"];
user.append(userName);

// document.querySelector(".content-supporter-container").append(content);

// UPI box

let upibox;
upibox = document.createElement("div");
upibox.setAttribute("class", "upi-box");

let upihead;
upihead = document.createElement("div");
upihead.setAttribute("class", "upi-head");
upibox.append(upihead);

let spanFirsthead;
spanFirsthead = document.createElement("span");
spanFirsthead.setAttribute("id", "first-head");
spanFirsthead.innerText = "Donate";
upihead.append(spanFirsthead);

let spanSecondhead;
spanSecondhead = document.createElement("span");
spanSecondhead.setAttribute("id", "sec-head");
spanSecondhead.innerHTML =
  json[0]["pay"]["donate_supporters"] + "&nbsp" + "Supporters";
upihead.append(spanSecondhead);

let donateBtn;
donateBtn = document.createElement("div");
donateBtn.setAttribute("class", "donate-btn-sec");
upibox.append(donateBtn);

let donatebutton;
donatebutton = document.createElement("button");
donatebutton.setAttribute("class", "donate-btn");
donatebutton.setAttribute("onclick", "paymentpage()");
donatebutton.innerText = "DONATE NOW";
donateBtn.append(donatebutton);

let carddetail;
carddetail = document.createElement("div");
carddetail.setAttribute("class", "card-detail");
carddetail.innerText = "Donate using Card,netbanking";
upibox.append(carddetail);

let qrimg;
qrimg = document.createElement("div");
qrimg.setAttribute("class", "qr-img");
upibox.append(qrimg);

let imageqr;
imageqr = document.createElement("img");
imageqr.setAttribute("src", "../../Assets/images/qr.jpg");
imageqr.setAttribute("alt", "Qr");
imageqr.setAttribute("id", "qr");
qrimg.append(imageqr);

let upitxt;
upitxt = document.createElement("div");
upitxt.setAttribute("class", "upi-down-txt");
upitxt.innerText = "Or donate using UPI";
upibox.append(upitxt);

let imgqr;
imgqr = document.createElement("div");
imgqr.setAttribute("class", "img-qr");
upibox.append(imgqr);

let upiimg;
upiimg = document.createElement("img");
upiimg.setAttribute("class", "qr-img");
upiimg.setAttribute("src", "../../Assets/images/upi-icon.png");
upiimg.setAttribute("alt", "upiimg");
upiimg.setAttribute("width", "60");
upiimg.setAttribute("height", "60");
imgqr.append(upiimg);

let gpay;
gpay = document.createElement("img");
gpay.setAttribute("src", "../../Assets/images/google-pay-Logo-PNG_awihaa.png");
gpay.setAttribute("alt", "gpay");
gpay.setAttribute("width", "30");
gpay.setAttribute("height", "40");
gpay.setAttribute("class", "gpay");
gpay.setAttribute("style", "padding-bottom: -15px");
imgqr.append(gpay);

document.querySelector(".content-supporter-container").append(content, upibox);

// supporter box

let supporterbox;
supporterbox = document.createElement("div");
supporterbox.setAttribute("class", "supporters-box");

let supporterhead;
supporterhead = document.createElement("div");
supporterhead.setAttribute("class", "supporterhead");
supporterhead.innerText = "Supporters";
supporterbox.append(supporterhead);

let div_supporter;
div_supporter = document.createElement("div");
supporterbox.append(div_supporter);

let supportername;
supportername = document.createElement("span");
supportername.setAttribute("class", "supporter-name");
supportername.innerText = json[0]["supporters"][0]["user"];
div_supporter.append(supportername);

let contribution;
contribution = document.createElement("span");
contribution.setAttribute("class", "supporter-name");
contribution.innerText = json[0]["supporters"][0]["amount"];
div_supporter.append(contribution);

document.querySelector(".second-container").append(supporterbox);

function paymentpage() {
  window.location.href = "../../webpage/donate/payment1stpage.html";
}
