<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PIN(People In Need).in</title>
    <link rel="stylesheet" href="../../Assets/css/style.css" />
    <link rel="stylesheet" href="../../Assets/css/header.css" />
    <link rel="stylesheet" href="../../Assets/css/footer.css" />
    <link rel="stylesheet" href="../../Assets/css/universal.css" />
    <link rel="stylesheet" href="../../Assets/js/header.js" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="../../Assets/js/demo.js" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script type="text/javascript">
      function togglemenu() {
        document.getElementById("sidebar").classList.toggle("active");
      }
    </script>
  </head>
  <body>
    <!--  header starts-->
    <header>
      <span class="menudiv">
        <a class="menulink" onclick="togglemenu()"
          ><img
            class="menu"
            src="../../Assets/images/menu (2).png"
            alt="menu"
            width="25" /></a
      ></span>

      <div class="image-txt">
        <span
          ><img
            class="logo"
            src="../../Assets/images/business-community.png"
            alt="groupof people"
        /></span>
        <span class="name">People In Need</span>
      </div>

      <div class="nav">
        <div id="sidebar" onclick="togglemenu()">
          <a href="../../webpage/header/home.html" class="nav-anchor home"
            >Home</a
          >
          <a href="../../webpage/donate/donate.html" class="nav-anchor"
            >Donate</a
          >
          <a href="../../webpage/fundraiser/fundraiser.html" class="nav-anchor"
            >Fundraise</a
          >
          <a href="../../webpage/header/about.html" class="nav-anchor">About</a>
          <a href="../../webpage/header/contact.html" class="nav-anchor"
            >Contact</a
          >
          <a href="../../webpage/header/profile.html" class="nav-anchor"
            ><img
              src="../../Assets/images/profile.png"
              alt="profile"
              width="30"
              title="profile"
          /></a>
        </div>
      </div>
    </header>
    <!-- header ends -->

    <!-- hero section -->
    <div id="hello" class="hero-sec">
      <img
        class="banner"
        src="../../Assets/images/Hero Banner (1).png"
        alt="banner"
        width="100%"
      />
    </div>
    <!-- hero section -->

    <!-- search box sec-->
    <div class="side-head">Thousands are fundraising on Pin</div>
    <div class="search">
      <input
        type="text"
        placeholder="   Search by name,location,cause..."
        name="search"
      />
      <a href="#"
        ><button type="submit"><i class="fa fa-search" width="20px"></i></button
      ></a>
    </div>
    <!-- search box sec ens -->

    <!-- main container -->
    <div class="container"></div>

    <!-- maincontainer end -->

    <div class="viewmore">
      <img
        src="../../Assets/images/arrow-down-sign-to-navigate.png"
        alt="arrow"
        class="arrow"
      />
      <div>
        <a href="../../webpage/donate/donate.html" class="more"
          >View More Fundraisers</a
        >
      </div>
    </div>
    <!-- footer starts -->
    <div class="footer">
      <div class="footmain">
        <div class="footerpart">
          <div class="foot-head"><p>Donate now</p></div>
          <div class="foot-link">
            <ul>
              <li>
                <a href="../../webpage/donate/donate-medical.html">Medical </a>
              </li>
              <li>
                <a href="../../webpage/donate/donate-education.html"
                  >Education</a
                >
              </li>
              <li>
                <a href="../../webpage/donate/donate-social.html"
                  >Social causes
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="footerpart">
          <div class="foot-head"><p>How it works?</p></div>
          <div class="foot-link">
            <ul>
              <li><a href="#">What is Crowdfunding?</a></li>
              <li><a href="#">Fundraising Tips</a></li>
              <li><a href="#">Browse fundraiser</a></li>
              <li><a href="#">Careers</a></li>
            </ul>
          </div>
        </div>
        <div class="footerpart">
          <div class="foot-head"><p>Support</p></div>
          <div class="foot-link">
            <ul>
              <li><a href="#">FAQ's & Help Center</a></li>
              <li><a href="#">Are Pin campaigns Genuine?</a></li>
              <li><a href="#">Trust & Safety</a></li>
              <li><a href="#">Featured In</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="foot-last">
        <div class="foot-end">
          <img id="mail" src="../../Assets/images/mail.png" alt="mail" />
          <p>Sign Up for PIN News</p>
          <button class="subscribe">Subscribe</button>
        </div>
        <div class="foot-logo">
          <p id="logo-txt">Follow PIN</p>
          <a href="#"
            ><img
              class="logo-icon"
              src="../../Assets/images/fb.png"
              alt="facebook"
          /></a>
          <a href="#"
            ><img
              class="logo-icon"
              src="../../Assets/images/twitter.png"
              alt="twitter"
          /></a>
          <a href="#"
            ><img
              class="logo-icon"
              src="../../Assets/images/insta.png"
              alt="instagram"
          /></a>
          <a href="#"
            ><img
              class="logo-icon"
              src="../../Assets/images/youtube.png"
              alt="youtubr"
          /></a>
        </div>
      </div>
    </div>
    <script>
      let json = [
        {
          img: "https://cimages.milaap.org/milaap/image/upload/c_fill,h_452,w_603/v1667841206/production/images/campaign/587864/IMG20221009062455_ovmi0x_1667842343.jpg",
          alt: "education",
          title: "Help me study to win in life",
          amount_raised: 600000,
          expected_amt: 3000000,
          supporters: 550,
          fundraiser: "Kumar",
        },
        {
          img: "https://cimages.milaap.org/milaap/image/upload/c_fill,h_452,w_603/v1663057048/production/images/campaign/562956/Divyam_4_luynfw_1663057051.jpg",
          alt: "baby",
          title: "Help Divyam Fight From Leukaemia",
          amount_raised: 1300000,
          expected_amt: 5000000,
          supporters: 350,
          fundraiser: "Ajay",
        },
        {
          img: "https://kettocdn.gumlet.io/media/campaign/625000/625122/image/627fff291f29d.png?w=768&dpr=1.5",
          alt: "school for special needs ",
          title: "School For Special Needs",
          amount_raised: 463521,
          expected_amt: 1000000,
          supporters: 240,
          fundraiser: "Ram",
        },
        {
          img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSowM5xzcQl9XbrUJsI29z-cEaJK-BXh69GSA&usqp=CAU",
          alt: "babyemerg",
          title:
            "My Baby Battles For His Life And We Need Your Support To Save Him",
          amount_raised: 363521,
          expected_amt: 500000,
          supporters: 482,
          fundraiser: "Somu",
        },
        {
          img: "https://cdn.shopify.com/s/files/1/0086/0795/7054/files/street_dog_5.jpg?v=1645437822",
          alt: "shelter for dog",
          title: "HELP US BUILD A SHELTER HOME",
          amount_raised: 158152,
          expected_amt: 700000,
          supporters: 50,
          fundraiser: "Veera",
        },
        {
          img: "https://kettocdn.gumlet.io/media/campaign/180000/180773/image/6089ceb85c0bd.jpeg?w=768&dpr=1.5",
          alt: "food distribution",
          title: "Feeding From Far-Ration Distribution Amid Lockdown",
          amount_raised: 8000000,
          expected_amt: 10000000,
          supporters: 9716,
          fundraiser: "Pooja",
        },
      ];

      let create_card = JSON.parse(localStorage.getItem("carddetails"));
      console.log(create_card);
      for (let i = 0; i < create_card.length; i++) {
        json.push(create_card[i]);
        console.log(json);
      }

      for (let i = 0; i < json.length; i++) {
        let container_div;
        let card_div;
        let anchor;
        let span;
        let image;
        let h4_tag;
        let progress_div;
        let b_tag;
        let progress_tag;
        let progress_span_tag;
        let a_span_like;
        let image_like;
        let a_span_share;
        let image_share;
        let amount_sec;
        let txt_amount;
        let cash;
        let count;
        let user_div;
        let user_name;
        let name;

        let amount = json[i]["amount_raised"];
        let expected_amount = json[i]["expected_amt"];

        let percentage = Math.floor((amount / expected_amount) * 100);

        // console.log("Percentage " + percentage)

        //  const percentage =

        //   <div class="container">..</div>
        // container_div = document.createElement("div");
        // container_div.setAttribute("class", "container");

        //   <div class="box"></div>
        card_div = document.createElement("div");
        card_div.setAttribute("class", "box");
        // container_div.append(card_div);

        //<a></a>
        anchor = document.createElement("div");

        // anchor.setAttribute("href", "../../webpage/donate/story.html");
        // anchor.setAttribute("style", "text-decoration:none;");
        card_div.append(anchor);

        //   <span class="linkspanner"></span>
        // span = document.createElement("span");
        // span.setAttribute("class", "linkspanner");
        // anchor.append(span);

        //   <img class="image" src="../../Assets/images/education.jpg" alt="education" />
        image = document.createElement("img");
        image.setAttribute("class", "image");
        image.setAttribute("src", json[i]["img"]);
        image.setAttribute("onclick", "redirect()");
        image.setAttribute("alt", "education");
        anchor.append(image);

        //   <h4></h4>
        h4_tag = document.createElement("h4");
        h4_tag.innerText = json[i]["title"];
        anchor.append(h4_tag);

        //   <div class="progress-sec"></div>
        progress_div = document.createElement("div");
        progress_div.setAttribute("class", "progress-sec");
        anchor.append(progress_div);

        //   <b> 20%</b>

        b_tag = document.createElement("b");
        b_tag.innerText = percentage + "%";
        progress_div.append(b_tag);

        //   <progress id="file" value="32" max="100">20%</progress>
        progress_tag = document.createElement("progress");
        progress_tag.setAttribute("id", "file");
        progress_tag.setAttribute("value", percentage);
        progress_tag.setAttribute("max", "100");
        progress_div.append(progress_tag);

        //span
        progress_span_tag = document.createElement("span");
        progress_span_tag.setAttribute("class", "like");
        progress_div.append(progress_span_tag);

        // img

        image_like = document.createElement("img");
        image_like.setAttribute("id", json[i]["product_id"]);
        image_like.setAttribute("onclick", "editCard(this.id)");
        image_like.setAttribute(
          "src",
          "../../Assets/images/icons8-edit-60-removebg-preview.png"
        );

        image_like.setAttribute("alt", "Like");
        image_like.setAttribute("class", "icon-like");
        image_like.setAttribute("width", "30px");
        progress_span_tag.append(image_like);

        // a
        a_span_share = document.createElement("a");
        a_span_share.setAttribute("href", "#");
        progress_span_tag.append(a_span_share);

        // img
        image_share = document.createElement("img");
        image_share.setAttribute("src", "../../Assets/images/share.png");
        image_share.setAttribute("class", "share");
        image_share.setAttribute("alt", "share");
        image_share.setAttribute("width", "30px");
        a_span_share.append(image_share);

        // <div class="amount">
        amount_sec = document.createElement("div");
        amount_sec.setAttribute("class", "amount");
        progress_div.append(amount_sec);

        // <span id="txt-amt"></span>
        txt_amount = document.createElement("span");
        txt_amount.setAttribute("id", "txt-amt");
        txt_amount.innerText = "Raised :";
        amount_sec.append(txt_amount);

        // <span id="cash"></span>
        cash = document.createElement("span");
        cash.setAttribute("id", "cash");

        cash.innerHTML = "RS." + json[i]["amount_raised"] + "&nbsp" + "&nbsp";

        amount_sec.append(cash);

        let plus;
        plus = document.createElement("i");
        plus.setAttribute("class", "fa fa-plus");
        plus.setAttribute("style", "font-size:22px");
        plus.innerHTML = "&nbsp" + "&nbsp";
        amount_sec.append(plus);

        let minus;
        minus = document.createElement("i");
        minus.setAttribute("class", "fa fa-minus");
        minus.setAttribute("style", "font-size:22px");
        amount_sec.append(minus);

        // // <span class="count"></span>
        // count = document.createElement("span");
        // count.setAttribute("class", "count");
        // count.innerText = json[i]["supporters"];
        // progress_div.append(count);

        // <div class="user"></div>
        user_div = document.createElement("div");
        user_div.setAttribute("class", "user");
        anchor.append(user_div);

        // <span class="name-label"></span>
        user_name = document.createElement("span");
        user_name.setAttribute("class", "name-label");
        user_name.innerText = "Created by";
        user_div.append(user_name);

        // <span class="name"></span>
        name = document.createElement("span");
        name.setAttribute("class", "name");
        name = innerText = json[i]["fundraiser"];
        user_div.append(name);

        // console.log(json);
        document.querySelector(".container").append(card_div);
      }

      function editCard(e) {
        window.location.href = "../../webpage/header/edit.html";
        let editArray = [];
        let eId = e;
        console.log(eId);
        let editObject = {
          product_id: eId,
        };

        console.log(editObject);

        editArray.push(editObject);

        console.log(editArray);
        localStorage.setItem("updateData", JSON.stringify(editArray));
      }

      function redirect() {
        window.location.href = "../../webpage/donate/story.html";
      }
    </script>
    <!-- footer ends -->
  </body>
</html>
